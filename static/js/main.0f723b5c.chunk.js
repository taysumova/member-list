(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(19)},16:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),m=a(8),i=a.n(m),l=a(6),o=a(9),s=a(1),c=a(2),u=a(4),b=a(3),h=a(5),d=function(e){var t=e.cities.map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)});return r.a.createElement("select",{name:"eventCity",onChange:e.handleChange},t)},v=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(b.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(l.a)({},n,r));"memberName"===n?a.validation.name=!!/^[a-z\u0430-\u044f\u0451\s]+$/i.test(r):"memberEmail"===n?a.validation.email=!!/^\w{2,}[.-]?\w{2,}@mail.ru$/.test(r):"memberPhone"===n&&(a.validation.phone=!!/^\+7\([\d]{3}\)[\d]{3}-[\d]{4}$/i.test(r))},a.onFormSubmit=function(e){e.preventDefault(),a.validation.name&&a.validation.phone&&a.validation.email?(alert("\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d"),a.props.handleSubmit(a.state),a.setState(a.initialState)):alert("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u043f\u043e\u043b\u044f")},a.handleValidation=function(e){var t=e.target.name;"memberName"===t?a.validation.name=!!/^[a-z\u0430-\u044f\u0451\s]{2,}$/i.test(a.state.memberName):"memberEmail"===t?a.validation.email=!!/^\w{2,}[.-]?\w{2,}@mail.ru$/.test(a.state.memberEmail):"memberPhone"===t&&(a.validation.phone=!!/^\+7\([\d]{3}\)[\d]{3}-[\d]{4}$/i.test(a.state.memberPhone))},a.initialState={memberName:"",memberEmail:"",memberPhone:"",eventCity:""},a.validation={name:!0,email:!0,phone:!0},a.state=a.initialState,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.refs.memberName.focus()}},{key:"render",value:function(){var e=this.state,t=e.memberName,a=e.memberEmail,n=e.memberPhone,m=this.validation,i=m.name,l=m.email,o=m.phone;return r.a.createElement("form",{onSubmit:this.onFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430 \u0432 \u0433\u0440\u0443\u043f\u043f\u0443"),r.a.createElement("label",null,"\u0424\u0418\u041e"),r.a.createElement("span",{className:"error"},i?"":"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b"),r.a.createElement("input",{type:"text",ref:"memberName",name:"memberName",placeholder:"\u0418\u0432\u0430\u043d\u043e\u0432 \u0418\u0432\u0430\u043d \u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447",value:t,onBlur:this.handleValidation,onChange:this.handleChange,required:!0}),r.a.createElement("label",null,"Email"),r.a.createElement("span",{className:"error"},l?"":"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 e-mail"),r.a.createElement("input",{type:"text",name:"memberEmail",placeholder:"mymail@mail.ru",value:a,onBlur:this.handleValidation,onChange:this.handleChange,required:!0}),r.a.createElement("label",null,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),r.a.createElement("span",{className:"error"},o?"":"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u043e\u043c\u0435\u0440\u0430"),r.a.createElement("input",{type:"text",name:"memberPhone",placeholder:"+7(000)000-0000",value:n,onClick:this.handleValidation,onChange:this.handleChange,required:!0}),r.a.createElement("label",null,"\u0413\u043e\u0440\u043e\u0434 \u0434\u043b\u044f \u0443\u0447\u0430\u0441\u0442\u0438\u044f"),r.a.createElement(d,{cities:this.props.cities,handleChange:this.handleChange}),r.a.createElement("button",{type:"submit",className:"submit-btn"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))}}]),t}(n.Component),p=function(){return r.a.createElement("h3",null,"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438:")},f=function(e){var t=e.membersData.map(function(t,a){return r.a.createElement("article",{key:a,className:"member"},r.a.createElement("h4",null,t.memberName),r.a.createElement("p",null,t.eventCity),r.a.createElement("span",{className:"number"},t.memberPhone),r.a.createElement("div",{className:"btn-wrapper"},r.a.createElement("button",{onClick:function(){return e.removeMember(a)},className:"delete-btn"},"\ud83d\uddf4")))});return r.a.createElement("div",null,t)},E=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.membersData,a=e.editMemberInfo,n=e.removeMember;return r.a.createElement("section",null,r.a.createElement(p,null),r.a.createElement(f,{membersData:t,editMemberInfo:a,removeMember:n}))}}]),t}(n.Component),g=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(b.a)(t).call(this,e))).handleSubmit=function(e){a.setState({membersData:[].concat(Object(o.a)(a.state.membersData),[e])})},a.editAd=function(e){var t=a.state.membersData,n=document.getElementsByTagName("input")[0],r=document.getElementsByTagName("input")[1],m=document.getElementsByTagName("input")[2];n.value=t[e].memberName,r.value=t[e].memberCity,m.value=t[e].memberPhone,console.log(t[e]),n.focus()},a.removeMember=function(e){var t=a.state.membersData;a.setState({membersData:t.filter(function(t,a){return a!==e})}),console.log(a.cities)},a.state={membersData:[],cities:["\u041c\u043e\u0441\u043a\u0432\u0430","\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433","\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0431\u0443\u0440\u0433","\u041d\u0438\u0436\u043d\u0438\u0439 \u041d\u043e\u0432\u0433\u043e\u0440\u043e\u0434","\u041d\u043e\u0432\u043e\u0441\u0438\u0431\u0438\u0440\u0441\u043a","\u041a\u0430\u0437\u0430\u043d\u044c","\u0427\u0435\u043b\u044f\u0431\u0438\u043d\u0441\u043a","\u041e\u043c\u0441\u043a","\u0421\u0430\u043c\u0430\u0440\u0430","\u0420\u043e\u0441\u0442\u043e\u0432-\u043d\u0430-\u0414\u043e\u043d\u0443"]},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.hydrateStateWithLocalStorage(),window.addEventListener("beforeunload",this.saveStateToLocalStorage.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.saveStateToLocalStorage.bind(this)),this.saveStateToLocalStorage()}},{key:"hydrateStateWithLocalStorage",value:function(){for(var e in this.state)if(localStorage.hasOwnProperty(e)){var t=localStorage.getItem(e);try{t=JSON.parse(t),this.setState(Object(l.a)({},e,t))}catch(a){this.setState(Object(l.a)({},e,t))}}}},{key:"saveStateToLocalStorage",value:function(){for(var e in this.state)localStorage.setItem(e,JSON.stringify(this.state[e]))}},{key:"render",value:function(){var e=this.state,t=e.membersData,a=e.cities;return r.a.createElement("div",{className:"container"},r.a.createElement(v,{handleSubmit:this.handleSubmit,membersData:t,cities:a}),r.a.createElement(E,{editMemberInfo:this.editMemberInfo,removeMember:this.removeMember,membersData:t}))}}]),t}(n.Component);a(16);i.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[10,2,1]]]);
//# sourceMappingURL=main.0f723b5c.chunk.js.map